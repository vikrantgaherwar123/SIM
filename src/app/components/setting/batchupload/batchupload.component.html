
<div class="row main-wrapper">
  <div class="col-12" id="main">
    <div style="margin: 0px auto;">
      <form class="shadow form-horizontal back" #f="ngForm" name="userForm">
        <div align="center" class="forget-pass-form table-editable" id="table">
          <div class="file-upload-wrapper">
            <input type="file" id="input-file-now" style="display: inline-block;" (change)="incomingfile($event)"
              placeholder="Upload file" accept=".xlsx" class="file-upload" />
          </div>
          <!-- <input type="file" style="display: inline-block;" (change)="incomingfile($event)" placeholder="Upload file" accept=".xlsx"> -->
          <button type="button" class="btn btn-info" (click)="Upload();showClientsOrProducts = true">Upload</button>
          <div *ngIf = "showClientsOrProducts == true">
            <button (click)="showClientsTable = true;showProductsTable = false;">Show Clients</button>
            <button (click)="showProductsTable = true;showClientsTable = false" >Show Products</button>
          </div>
          <table *ngIf="showClientsTable" class="table table-responsive" style="padding: 32px 0px 0px 0px;">
            <thead style="background-color: #0299ff;border-color: #0299ff;color: white">
              <tr>
                <th scope="col">Sr.no</th>
                <th scope="col">Organization</th>
                <th scope="col">Contact Person</th>
                <th scope="col">Address Line 1</th>
                <th scope="col">Business Id</th>
                <th scope="col">Business Detail</th>
                <th scope="col">Contact No</th>
                <th scope="col">Email Id</th>
                <th scope="col">Shipping Address</th>
                <th scope="col">Remove</th>
              </tr>
            </thead>
            <div>
            <tbody style="border: 1px solid;">
              <tr *ngFor="let item of clientRecords; let in = index">
                <td>{{in+1}}</td>
                <td>
                    <input type="text" name="name-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.name" required /><!--[ngClass]="{disabledField: !customEnableDate}"-->
                  </td>
                <td>
                    <input type="text" name="contactPersonName-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.contactPersonName" required />
                </td>
                <td>
                    <input type="text" name="addressLine1-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.addressLine1" required />
                </td>
                <td>
                    <input type="text" name="businessId-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.businessId" required />
                </td>
                <td>
                    <input type="text" name="businessDetail-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.businessDetail" required />
                </td>
                <td>
                    <input type="text" name="number-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.number" required />
                </td>
                <td>
                    <input type="text" name="email-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.email" required />
                </td>
                <td>
                    <input type="text" name="shippingAddress-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.shippingAddress" required />
                </td>
                <td>
                  <span class="table-remove">
                    <button type="button" mdbBtn color="danger" rounded="true" size="sm" class="my-0" (click)="remove(in)">Remove</button>
                  </span>
                </td>
              </tr>
            </tbody>
          </div>
          </table>
          <!-- products -->
          <table *ngIf="showProductsTable == true" class="table table-responsive" style="padding: 32px 0px 0px 0px;">
            <thead style="background-color: #0299ff;border-color: #0299ff;color: white">
              <tr>
                <th scope="col">Sr.no</th>
                <th scope="col">Product Name</th>
                <th scope="col">Unit</th>
                <th scope="col">Description</th>
                <th scope="col">Rate</th>
                <th scope="col">Tax Rate</th>
                <th scope="col">Product Code</th>
                <th scope="col">Remove</th>
              </tr>
            </thead>
            <div>
            <tbody style="border: 1px solid;">
              <tr  *ngFor="let item of productRecords; let i = index">
                <td>{{i+1}}</td>
                <td>
                    <input type="text" name="prodName-{{i}}" class="form-control"
                    [ngClass]="{'input.ng-dirty.ng-invalid': !i }" id="name" 
                    onfocus="this.select()" [(ngModel)]="item.prodName" required /><!--[ngClass]="{disabledField: !customEnableDate}"-->
                  </td>
                <td>
                    <input type="text" name="unit-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.unit" required />
                </td>
                <td>
                    <input type="text" name="discription-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.discription" required />
                </td>
                <td>
                    <input type="text" name="rate-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.rate" required />
                </td>
                <td>
                    <input type="text" name="taxRate-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.taxRate" required />
                </td>
                <td>
                    <input type="text" name="productCode-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.productCode" required />
                </td>
                <td>
                  <span class="table-remove">
                    <button type="button" mdbBtn color="danger" rounded="true" size="sm" class="my-0" (click)="productRemove(i)">Remove</button>
                  </span>
                </td>
              </tr>
            </tbody>
          </div>
          </table>
          <button (click)="save()" type="button" id="saveClientBtn1"  class="btn save_btn btn-raised pull-right font-weight-bold ml-2"
          [disabled]="!f.valid"
          >
          SAVE
        </button>
        </div>
      </form>
    </div>
  </div>
</div>
