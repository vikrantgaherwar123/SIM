
<div class="row main-wrapper">
  <div class="col-12 item-form" id="main">
    <div style="margin: 0px auto;">
      <form class="shadow form-horizontal back" #f="ngForm" name="userForm">
        <div align="center" class="forget-pass-form table-editable" id="table">
          <div class="file-upload-wrapper" style="padding-top: 28px;">
            <input type="file" id="input-file-now" style="padding: 38px 0px 0px 175px;" (change)="incomingfile($event)"
              placeholder="Upload file" accept=".xlsx, .xls, .csv" class="file-upload dropzone-container dropzone-drop-area" />
          </div>
          <!-- <input type="file" style="display: inline-block;" (change)="incomingfile($event)" placeholder="Upload file" accept=".xlsx"> -->
          <div>
            <button type="button" class="btn btn-info upload-btn" (click)="Upload();showClientsOrProducts = true">Upload</button>
          </div>
          <div *ngIf = "showClientsOrProducts == true" style="padding-bottom: 24px;">
            <button class="btn save_btn btn-raised width25btn font-weight-bold ml-2" style="width: 200px;" (click)="showClientsTable = true;showProductsTable = false;">Show Clients</button>
            <button class="btn save_btn btn-raised width25btn font-weight-bold ml-2" style="width: 200px;" (click)="showProductsTable = true;showClientsTable = false" >Show Products</button>
          </div>
          <table width="100%" *ngIf="showClientsTable" class="table 
          table-responsive" style="padding: 32px 0px 0px 0px;">
            <thead style="background-color: #0299ff;border-color: #0299ff;color: white">
              <tr class="hd">
                <td width="1%" scope="col">Sr.no</td>
                <td width="10%" scope="col">Organization</td>
                <td width="10%" scope="col">Contact Person</td>
                <td width="10%" scope="col">Address Line 1</td>
                <td width="10%" scope="col">Business Id</td>
                <td width="10%" scope="col">Business Detail</td>
                <td width="10%" scope="col">Contact No</td>
                <td width="10%" scope="col">Email Id</td>
                <td width="10%" scope="col">Shipping Address</td>
                <td width="2%" scope="col">Remove</td>
              </tr>
            </thead>
            <div>
            <tbody style="border: 1px solid;">
              <tr *ngFor="let item of clientRecords; let in = index">
                <td>{{in+1}}</td>
                <td>
                    <input type="text" name="name-{{in}}" class="form-control box-red" [ngClass]="{ 'box-grey': item.name }"
                    onfocus="this.select()" [(ngModel)]="item.name" required /><!--[ngClass]="{disabledField: !customEnableDate}"-->
                  </td>
                <td>
                    <input type="text" name="contactPersonName-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.contactPersonName" required />
                </td>
                <td>
                    <input type="text" name="addressLine1-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.addressLine1" required />
                </td>
                <td>
                    <input type="text" name="businessId-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.businessId" required />
                </td>
                <td>
                    <input type="text" name="businessDetail-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.businessDetail" required />
                </td>
                <td>
                    <input type="text" name="number-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.number" required />
                </td>
                <td>
                    <input type="text" name="email-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.email" required />
                </td>
                <td>
                    <input type="text" name="shippingAddress-{{in}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.shippingAddress" required />
                </td>
                <td>
                  <span class="table-remove">
                    <button type="button" mdbBtn color="danger" rounded="true" size="sm" class="my-0 no_btn" (click)="remove(in)"><img src="../assets/images/delete_in_dark_grey.png" style="height: 28px;"></button>
                  </span>
                </td>
              </tr>
            </tbody>
          </div>
          </table>
          <!-- products -->
          <table width="100%" *ngIf="showProductsTable == true" class="table table-responsive" style="padding: 32px 0px 0px 0px;">
            <thead style="background-color: #0299ff;border-color: #0299ff;color: white">
              <tr class="hd">
                <td width="1%" scope="col">Sr.no</td>
                <td width="10%" scope="col">Product Name</td>
                <td width="10%" scope="col">Unit</td>
                <td width="10%" scope="col">Description</td>
                <td width="10%" scope="col">Rate</td>
                <td width="10%" scope="col">Tax Rate</td>
                <td width="10%" scope="col">Product Code</td>
                <td width="2%" scope="col">Remove</td>
              </tr>
            </thead>
            <div>
            <tbody style="border: 1px solid;">
              <tr  *ngFor="let item of productRecords; let i = index">
                <td>{{i+1}}</td>
                <td>
                    <input type="text" name="prodName-{{i}}" class="form-control box-red"
                    [ngClass]="{ 'box-grey': item.prodName }"
                    onfocus="this.select()" [(ngModel)]="item.prodName" required /><!--[ngClass]="{disabledField: !customEnableDate}"-->
                  </td>
                <td>
                    <input type="text" name="unit-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.unit" required />
                </td>
                <td>
                    <input type="text" name="discription-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.discription" required />
                </td>
                <td>
                    <input type="text" name="rate-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.rate" required />
                </td>
                <td>
                    <input type="text" name="taxRate-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.taxRate" required />
                </td>
                <td>
                    <input type="text" name="productCode-{{i}}" class="form-control"
                    onfocus="this.select()" [(ngModel)]="item.productCode" required />
                </td>
                <td>
                  <span class="table-remove">
                    <button type="button" mdbBtn color="danger" rounded="true" size="sm" class="my-0 no_btn" (click)="productRemove(i)"><img src="../assets/images/delete_in_dark_grey.png" style="height: 28px;"></button>
                  </span>
                </td>
              </tr>
            </tbody>
          </div>
          </table>
          <button (click)="save()" type="button" id="saveClientBtn1"  class="btn save_btn btn-raised pull-right font-weight-bold ml-2"
          [disabled]="!f.valid"
          >
          SAVE
        </button>
        </div>
      </form>
    </div>
  </div>
</div>
