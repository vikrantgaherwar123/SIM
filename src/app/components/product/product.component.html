<div class="row main-wrapper">
  <div class="col-12" id="main" style="background-color: #ffffff !important;">
    <div class="row pro_row">
      <h3 class="pro_heading">Products</h3>
      <button type="button" id="saveClientButton" class="btn save_btn"
      (click)="addClientModal()">
      + Add Product
    </button>
    </div>
    <div class="row">
      <!-- Product List -->
      <div class="col-12 pr-0">
          <div style="padding: 36px;" class="item-form">
              <div class="col-12 row" style="margin-bottom: 26px;">
                  <div class="col-4"><span style="margin-left: 42px;">Product</span></div>
                  <div class="col-2 text_center heading">Rate</div>
                  <div class="col-2 text_center heading">Tax Rate</div>
                  <div class="col-2 text_center heading">Unit</div>
                  <div class="col-2 text_center heading">Action</div>
                </div>
              <mat-accordion id="prod{{index}}" *ngFor="let product of (productList | orderBy:sortTerm:(sortTerm=='rate'? true : false):true | filter:searchTerm | slice:0:productDisplayLimit); index as index">
                  <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                      <mat-panel-title>
                        <div class="col-12 row">
                          <div class="col-4">{{ product.prodName }}</div>
                          <div class="col-2 text_center">{{ product.rate}}</div>
                          <div class="col-2 text_center">{{ product.taxRate }}</div>
                          <div class="col-2 text_center">{{ product.unit }}</div>
                          <div class="col-2 row">
                            <div class="col-1" style="padding-left: 102px;">
                                <img src="assets/images/edit_blue.png" Title="Delete" alt="" class="hg_20 cross_label_img">
                            </div>
                            <div class="col-1">
                                <img src="assets/images/grey_cross.png" Title="Delete" alt="" class="hg_20 cross_label_img">
                            </div>
                          </div>
                        </div>
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div style="padding: 4px 22px;">
                        <div style="margin-bottom: 6px;"><span class="small_title">Description</span>: <span class="small_description">{{ product.discription }}</span></div>
                        <div class="row">
                          <div class="col-2">
                              <span class="small_title">Product Code</span>: <span class="small_description">{{ product.productCode }}</span>
                          </div>
                          <div class="col-2">
                              <span class="small_title">Unit</span>: <span class="small_description">{{ product.unit }}</span>
                          </div>
                          <div class="col-2">
                              <span class="small_title">Tax Rate</span>: <span class="small_description">{{ product.taxRate }}</span>
                          </div>
                        </div>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
          </div>
      </div>

      <!-- Body -->
     
    </div>
  </div>
</div>


<!-- accordian development -->
<!-- Add Client Modal -->
<div id="add-client" class="modal fade" role="dialog" aria-labelledby="clientFormLabel" aria-hidden="true"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-md term_popup_modal">
    <div class="modal-content">
        <div class="modal-header">
            <div class="add_term_title modal-title form-header header-color font-custom-bold" id="addPaymentLabel">
               Add Product
            </div>
          </div>
      <div class="modal-body term_modal_body">
        <form class="form-horizontal add-client-form" name="itemform" #itemform="ngForm">
          <div class="row edit_item_row">
            <div class="row col-12">
             <span class="edit_span">Product Name:</span>
             <input type="text" id="prodName" (keyup)="emptyField($event)" [ngClass]="{'box_red': emptyProduct == true}" name="prodName" placeholder="{{settings.mTvProducts ? settings.mTvProducts : 'Products'}} Name *"
             class="form-control" maxlength="45" onfocus="this.select()" required
             [(ngModel)]="activeProduct.prodName"
           />
            </div>

            <div class="row">
              <div class="col-6 tax_dis_span">
                <span class="edit_span">Product Code:</span>
                <input type="text" name="productCode" id="productCode" class="form-control"
                  placeholder="{{settings.mTvProducts ? settings.mTvProducts : 'Products'}} Code"
                  [(ngModel)]="activeProduct.productCode" onfocus="this.select()" />
              </div>
              <div class="col-6 tax_dis_span">
                <span class="edit_span">{{settings.mTvRate ? settings.mTvRate : 'Rate'}} (*):</span>
                <input type="text" name="unit" id="unit" class="form-control" placeholder="Unit" maxlength="6"
                  [(ngModel)]="activeProduct.unit" onfocus="this.select()" />
              </div>
            </div>
            <div class="row col-12">
                <span class="edit_span">Description:</span>
                <textarea elastic name="discription" id="discription" class="form-control mCustomScrollbar style-3"
                  placeholder="Description" style="height: 72px !important;" [(ngModel)]="activeProduct.discription"
                  onfocus="this.select()"></textarea>
            </div>
            <div class="row col-12">
              <span class="edit_span">Rate:</span>
              <input type="number" name="rate" class="form-control" step="any" min=0.01
                placeholder="{{settings.mTvRate ? settings.mTvRate : 'Rate'}}*" [(ngModel)]="activeProduct.rate" required
                onfocus="this.select()" (keyup)="emptyField($event)" [ngClass]="{'box_red': emptyRate == true}" />
            </div>

            <div class="col-12">
              Tax Rate:
              <input type="number" name="taxRate" class="form-control" step="any" min=0 max=100 placeholder="Tax"
                [(ngModel)]="activeProduct.taxRate" onfocus="this.select()" />
            </div>
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn save_btn" (click)="closeItemModel()">
          Close
        </button>
        <button type="button" id="updateProBtn" (click)="f.submitted = true; save(f.valid, 0)"
          class="btn save_btn btn-raised width25btn pull-right font-weight-bold ml-2">
          Save
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Add Client Modal Ends -->

<!-- Error MODAL starts -->
<div id="errormessage" class="modal fade" role="dialog" aria-labelledby="clientFormLabel" aria-hidden="true"
data-backdrop="static" data-keyboard="false">
<div class="modal-dialog mod_dialog">
  <div class="modal-content mod_content">
    <div class="modal-header mod_header">
      <img class="center" src="assets/images/connection_lost.png" alt="logo" class="center error_logo">
    </div>
    <div class="modal-body">
      <h3 class="title">Connection Lost !</h3>
      <p class="error_logo error_text">Make sure your wifi or cellular data is turned on and try again
        !!!</p>
    </div>
    <div class="modal-footer mod_footer" style=" padding: 9px 23px 20px 10px !important;">
      <button type="button" class="mod_close_btn btn save_btn btn-raised width25btn center"
        data-dismiss="modal" aria-label="Close">
        OK
      </button>

    </div>
  </div>
</div>
</div>
<!-- Error MODAL ends -->
